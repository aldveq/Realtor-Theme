function updateRecaptchaSetting(e){jQuery.post(ajaxurl,{action:"idx_update_recaptcha_setting",nonce:IDXAdminAjax.google_recaptcha_nonce,enable_recaptcha:e.checked?1:0},function(e){"success"!==e&&window.location.reload()})}function updateOptoutSetting(e){jQuery.post(ajaxurl,{action:"idx_update_data_optout_setting",nonce:IDXAdminAjax.data_optout_nonce,optout:e.checked},function(e){"success"!==e&&window.location.reload()})}function updateDevPartnerKey(){var e="<span class='dashicons dashicons-update spin' style='color: #007cba;'></span>",a="<span class='dashicons dashicons-yes-alt' style='color:#bada55;'></span>",r="<span class='dashicons dashicons-dismiss' style='color: tomato;'></span>",n=jQuery(".idx-dev-key-refresh-status");n.fadeIn("fast").html(e+"Saving Developer Partner API key..."),jQuery.post(ajaxurl,{action:"idx_update_dev_partner_key",nonce:IDXAdminAjax.dev_key_update_nonce,key:document.getElementById("idx-broker-dev-partner-key").value},function(e){"success"!==e?setTimeout(function(){n.fadeIn("slow").html(r+"Save Failed! "+e)},700):setTimeout(function(){n.fadeIn("slow").html(a+"Saved!")},700),setTimeout(function(){n.fadeOut("slow")},2e3)})}!function(){function e(){var e=jQuery("#idx_broker_apikey").val();return""===e?(jQuery("#idx_broker_apikey").focus(),jQuery("#idx_broker_apikey").parent("div").css("background","#FDB7B7"),jQuery("#idx_broker_apikey_error").show(),!1):(jQuery("#idx_broker_apikey").parents("div").css("background","none"),jQuery("#idx_broker_apikey_error").hide(),!0)}function a(e,a){var r=jQuery("#tabs li.active a").attr("href");return jQuery("#currentTab").val(r),e=e||jQuery("#idx_broker_options").serialize(),e+="&"+jQuery("#currentTab").serialize(),e+="&"+jQuery("[name=action]").serialize(),e+="&nonce="+IDXAdminAjax.refresh_api_nonce,jQuery.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){jQuery("[name=action]").val("update"),a()}})}jQuery(document).ready(function(){jQuery("#web_services_error").css("display","block");var r="<span class='ajax'></span>";jQuery("#blogUrl").attr("ajax");if(jQuery("#api_update").click(function(n){var t=(jQuery("#idx_broker_apikey").val(),e());if(t===!0){n.preventDefault(),jQuery("[name=action]").val("idx_refresh_api"),jQuery("#action_mode").val("refresh_mode");var i=jQuery(".refresh_status"),o=jQuery("#idx_broker_apikey").serialize();i.fadeIn("fast").html(r+"Refreshing API..."),a(o,function(){i.fadeIn("fast").html(r+"Refreshing Links..."),setTimeout(window.location.reload(),1e3)})}}),""!==jQuery("#idx_broker_dynamic_wrapper_page_name").val()){var n=jQuery("#page_link").val().split("/*"),t=n[0],i=n[1];jQuery("#protocol").text(t+"/*"),jQuery("#page_link").val(i),jQuery("#dynamic_page_url").show()}jQuery("#idx_broker_create_wrapper_page").click(function(e){e.preventDefault();var a=jQuery("#idx_broker_dynamic_wrapper_page_name").val(),r=jQuery("#idx_broker_dynamic_wrapper_page_id").val();return jQuery("#idx_broker_dynamic_wrapper_page_name").removeClass("error"),jQuery("#dynamic_page > p.error").hide(),""===a?(jQuery("#idx_broker_dynamic_wrapper_page_name").addClass("error"),void jQuery("#dynamic_page > p.error").show()):void jQuery.post(ajaxurl,{action:"create_dynamic_page",post_title:a,wrapper_page_id:r,idx_broker_admin_page_tab:jQuery("#tabs li.active a").attr("href"),nonce:IDXAdminAjax.wrapper_create_nonce}).done(function(e){setTimeout(window.location.reload(),1e3)})}),jQuery("#idx_broker_delete_wrapper_page").click(function(e){e.preventDefault();var n=jQuery("#idx_broker_dynamic_wrapper_page_id").val();jQuery.post(ajaxurl,{action:"delete_dynamic_page",wrapper_page_id:n,idx_broker_admin_page_tab:jQuery("#tabs li.active a").attr("href"),nonce:IDXAdminAjax.wrapper_delete_nonce}).done(function(){var e=jQuery(".wrapper_status");e.fadeIn("fast").html(r+"Deleting IDX Wrapper Page..."),a("",function(){e.fadeIn("fast").html(r+" Refreshing Page..."),setTimeout(window.location.reload(),1e3)})})}),window.location.search.includes("idxdev")&&document.getElementById("devSettings").classList.remove("hide")})}(window,void 0);